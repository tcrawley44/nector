{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\tsc\\\\Desktop\\\\projects\\\\mern-nector-new\\\\client\\\\src\\\\components\\\\search-people\\\\SearchPeople.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport TextFieldGroup from \"../common/TextFieldGroup\";\nimport TextAreaFieldGroup from \"../common/TextAreaFieldGroup\";\nimport SelectListGroup from \"../common/SelectListGroup\";\nimport { createProfile, getInterests, searchPeople } from \"../../actions/profileActions\";\nimport Interests from \"../add-person/Interests\";\nimport { getTree, test } from \"../../actions/treeactions\";\nimport { addNode } from \"../../actions/nodeActions\";\nimport \"./SearchStyles.css\";\nimport { Link } from 'react-router-dom';\n\nvar SearchPeople =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchPeople, _Component);\n\n  function SearchPeople(props) {\n    var _this;\n\n    _classCallCheck(this, SearchPeople);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchPeople).call(this, props));\n\n    _this.getDataFromChild = function (dataFromChild) {\n      var mergeTrees = function mergeTrees(parentTree, childTree) {\n        var found = false;\n        var searchedAllChildren = false;\n        var i = 1;\n        var atTheEnd = false;\n        console.log(childTree, parentTree);\n\n        if (childTree[1] === undefined || parentTree[i] === undefined) {\n          atTheEnd = true;\n          console.log(\"true\");\n        }\n\n        while (!found && !searchedAllChildren && !atTheEnd) {\n          console.log(\"childtree\", childTree[1][0], \"parenttree\", parentTree[i][0]);\n          console.log(\"makes it here?\");\n\n          if (childTree[1][0] === parentTree[i][0]) {\n            found = true;\n          }\n\n          if (parentTree.length != 1 && i != parentTree.length - 1 && !found) {\n            i = i + 1;\n          } else {\n            searchedAllChildren = true;\n          }\n        }\n\n        console.log(\"makes it here2?\");\n\n        if (found) {\n          console.log(\"i\", i);\n          mergeTrees(parentTree[i], childTree[1]);\n        } else {\n          parentTree.push(childTree[1]);\n        }\n      };\n\n      console.log(\"child being sent: \", dataFromChild);\n\n      if (_this.state.interests[0] === undefined) {\n        _this.state.interests.push(dataFromChild);\n      } else {\n        mergeTrees(_this.state.interests[0], dataFromChild); //console.log(this.state.interests, \"after mergeTree\");\n      }\n    };\n\n    _this.state = {\n      queryName: \"\",\n      name: \"\",\n      sex: \"\",\n      age: \"\",\n      city: \"\",\n      state: \"\",\n      interests: [],\n      bio: \"\",\n      errors: {}\n    };\n\n    _this.props.test(); //this.props.addNode(\"Books\", \"Conceptual\");\n\n\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSelectChange = _this.onSelectChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SearchPeople, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n      this.setState(function (prevState) {\n        return {\n          displayResults: !prevState.displayResults\n        };\n      }); //console.log(this.props.interests, \"interests here\");\n\n      var profileData = {\n        queryName: this.state.queryName,\n        name: this.state.name,\n        sex: this.state.sex,\n        age: this.state.age,\n        city: this.state.city,\n        state: this.state.state,\n        currentUserId: this.props.auth.id,\n        interests: this.state.interests,\n        bio: this.state.bio //console.log(\"what about here\");\n\n      };\n      this.props.searchPeople(profileData);\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"onSelectChange\",\n    value: function onSelectChange(e) {\n      this.setState({\n        status: e.target.value\n      }); //console.log(this.status);\n      //console.log(\"derp\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          errors = _this$state.errors,\n          displayResults = _this$state.displayResults;\n      var tree = this.props.tree; //console.log(tree);\n      //console.log(\"here2\");\n      //select options for status\n\n      var options = [{\n        label: 'male',\n        value: \"male\"\n      }, {\n        label: 'female',\n        value: \"female\"\n      }];\n      var display;\n\n      if (displayResults) {\n        var results1 = this.props.profile.matches.map(function (match) {\n          return React.createElement(\"div\", {\n            className: \"btn personButton btn-info\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150\n            },\n            __self: this\n          }, match)\n          /* <ProfileItem key = {profile._id} profile = {profile} /> */\n          ;\n        });\n        display = React.createElement(\"div\", {\n          className: \"add-person\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"profile/\" + this.props.auth.id,\n          className: \"btn btn-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"Back\"), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, results1))));\n      } else {\n        display = React.createElement(\"div\", {\n          className: \"edit-person\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-8 m-auto\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"display-5 text-center text-white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, \"Search People\"), React.createElement(\"p\", {\n          className: \"lead text-center text-white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, \"enter info\"), React.createElement(\"small\", {\n          className: \"d-block pb-3 text-white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"leave blank if irrelevant\"), React.createElement(\"form\", {\n          onSubmit: this.onSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(TextFieldGroup, {\n          placeholder: \"query name\",\n          name: \"queryName\",\n          value: this.state.queryName,\n          onChange: this.onChange,\n          error: errors.name,\n          info: \"queryName\",\n          autoComplete: \"off\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"mt-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }), React.createElement(TextFieldGroup, {\n          placeholder: \"name\",\n          name: \"name\",\n          value: this.state.name,\n          onChange: this.onChange,\n          error: errors.name,\n          info: \"name\",\n          autoComplete: \"off\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }), React.createElement(SelectListGroup, {\n          placeholder: \"sex\",\n          name: \"sex\",\n          value: this.state.sex,\n          onChange: this.onChange,\n          options: options,\n          error: errors.sex,\n          info: \"sex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }), React.createElement(TextFieldGroup, {\n          placeholder: \"age\",\n          name: \"age\",\n          value: this.state.age,\n          onChange: this.onChange,\n          error: errors.age,\n          info: \"age\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }), React.createElement(TextFieldGroup, {\n          placeholder: \"city\",\n          name: \"city\",\n          value: this.state.city,\n          onChange: this.onChange,\n          error: errors.city,\n          info: \"city\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(TextFieldGroup, {\n          placeholder: \"state\",\n          name: \"state\",\n          value: this.state.state,\n          onChange: this.onChange,\n          error: errors.state,\n          info: \"state\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Submit\",\n          className: \"btn btn-info btn-block mt-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }))))), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"interests\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }), React.createElement(\"h1\", {\n          className: \"display-5 text-center text-white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, \"Interests\"), React.createElement(Interests, {\n          sendDataToParent: this.getDataFromChild,\n          tree2: tree.tree,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        })))));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, display);\n    }\n  }]);\n\n  return SearchPeople;\n}(Component);\n\nSearchPeople.propTypes = {\n  profile: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  test: PropTypes.func.isRequired,\n  tree: PropTypes.object.isRequired,\n  interests: PropTypes.object,\n  auth: PropTypes.object\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    profile: state.profile,\n    errors: state.errors,\n    tree: state.tree,\n    interests: state.interests,\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createProfile: createProfile,\n  addNode: addNode,\n  test: test,\n  getInterests: getInterests,\n  searchPeople: searchPeople\n})(withRouter(SearchPeople));","map":{"version":3,"sources":["C:\\Users\\tsc\\Desktop\\projects\\mern-nector-new\\client\\src\\components\\search-people\\SearchPeople.js"],"names":["React","Component","connect","withRouter","PropTypes","TextFieldGroup","TextAreaFieldGroup","SelectListGroup","createProfile","getInterests","searchPeople","Interests","getTree","test","addNode","Link","SearchPeople","props","getDataFromChild","dataFromChild","mergeTrees","parentTree","childTree","found","searchedAllChildren","i","atTheEnd","console","log","undefined","length","push","state","interests","queryName","name","sex","age","city","bio","errors","onChange","bind","onSubmit","onSelectChange","nextProps","setState","e","preventDefault","prevState","displayResults","profileData","currentUserId","auth","id","target","value","status","tree","options","label","display","results1","profile","matches","map","match","propTypes","object","isRequired","func","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\nimport TextFieldGroup from \"../common/TextFieldGroup\";\r\nimport TextAreaFieldGroup from \"../common/TextAreaFieldGroup\";\r\nimport SelectListGroup from \"../common/SelectListGroup\";\r\nimport {createProfile, getInterests, searchPeople} from \"../../actions/profileActions\";\r\nimport Interests from \"../add-person/Interests\";\r\nimport{getTree,test} from \"../../actions/treeactions\";\r\nimport {addNode} from \"../../actions/nodeActions\";\r\nimport \"./SearchStyles.css\";\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nclass SearchPeople extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            queryName: \"\",\r\n            name: \"\",\r\n            sex: \"\",\r\n            age: \"\",\r\n            \r\n            city: \"\",\r\n            state: \"\",\r\n            interests: [],\r\n            bio: \"\",\r\n            errors: {}\r\n            \r\n        }\r\n        this.props.test();\r\n        //this.props.addNode(\"Books\", \"Conceptual\");\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onSelectChange = this.onSelectChange.bind(this);\r\n    }\r\n    \r\n    componentDidMount(){\r\n        \r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n\r\n        if(nextProps.errors){\r\n            this.setState({errors: nextProps.errors});\r\n        }\r\n    }\r\n    onSubmit(e){\r\n        e.preventDefault();\r\n\r\n        \r\n        this.setState(prevState => ({\r\n            displayResults: !prevState.displayResults\r\n        }))\r\n        //console.log(this.props.interests, \"interests here\");\r\n        const profileData = {\r\n            queryName: this.state.queryName,\r\n            name: this.state.name,\r\n            sex: this.state.sex,\r\n            age: this.state.age,\r\n            city: this.state.city,\r\n            state: this.state.state, \r\n            currentUserId: this.props.auth.id,\r\n            interests: this.state.interests,\r\n            bio: this.state.bio\r\n        }\r\n        //console.log(\"what about here\");\r\n        this.props.searchPeople(profileData);\r\n    }\r\n\r\n    getDataFromChild = (dataFromChild) => {\r\n        const mergeTrees = (parentTree, childTree) => {\r\n            let found = false; \r\n            let searchedAllChildren = false; \r\n            let i = 1; \r\n            let atTheEnd = false; \r\n            console.log(childTree, parentTree);\r\n            if(childTree[1] === undefined || parentTree[i] === undefined){\r\n                atTheEnd = true; \r\n                console.log(\"true\");\r\n            }\r\n            while(!found && !searchedAllChildren && !atTheEnd){\r\n                console.log(\"childtree\", childTree[1][0], \"parenttree\", parentTree[i][0])\r\n                console.log(\"makes it here?\")\r\n                if(childTree[1][0] === parentTree[i][0]){\r\n                    found = true; \r\n                }\r\n                if((parentTree.length != 1)&&(i != (parentTree.length-1))&&(!found)){\r\n                    i = i + 1; \r\n                }else{\r\n                    searchedAllChildren = true; \r\n                }\r\n\r\n            }\r\n            console.log(\"makes it here2?\")\r\n            if(found){\r\n                console.log(\"i\",i);\r\n                mergeTrees(parentTree[i],childTree[1]);\r\n            }else{\r\n                \r\n                    parentTree.push(childTree[1]);\r\n                \r\n                \r\n            }\r\n        }\r\n        console.log(\"child being sent: \", dataFromChild)\r\n        if(this.state.interests[0] === undefined){\r\n            this.state.interests.push(dataFromChild);\r\n        }else{\r\n            mergeTrees(this.state.interests[0],dataFromChild)\r\n            //console.log(this.state.interests, \"after mergeTree\");\r\n        }\r\n        \r\n    }\r\n\r\n    onChange(e) {\r\n        \r\n            this.setState({[e.target.name]: e.target.value});\r\n        \r\n    }\r\n\r\n    onSelectChange(e) {\r\n        this.setState({status: e.target.value});\r\n        //console.log(this.status);\r\n        //console.log(\"derp\");\r\n    }\r\n\r\n    render() {\r\n        const {errors, displayResults} = this.state; \r\n        \r\n        const {tree} = this.props; \r\n        //console.log(tree);\r\n        //console.log(\"here2\");\r\n        //select options for status\r\n        const options = [\r\n            \r\n            {\r\n                label: 'male',\r\n                value: \"male\"\r\n            },\r\n            \r\n            {label: 'female', value: \"female\"}\r\n        ];\r\n        let display;\r\n        if(displayResults){\r\n            let results1 = this.props.profile.matches.map(match => (\r\n                             \r\n                <div className = \"btn personButton btn-info\" >\r\n                    \r\n                    {match}\r\n                    \r\n                </div>\r\n                /* <ProfileItem key = {profile._id} profile = {profile} /> */\r\n            ))\r\n            display = (\r\n                <div className = \"add-person\">\r\n                    <Link to = {\"profile/\" + this.props.auth.id} className = \"btn btn-info\">Back</Link>\r\n                            \r\n                    \r\n                    <div className = \"container\">\r\n                        <div className = \"row\">\r\n\r\n                            <div className = \"col-6\">\r\n                                {results1}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }else{\r\n            display = (\r\n                <div className = \"edit-person\">\r\n                    <div className = \"container\">\r\n                        <div className = \"row\">\r\n                            <div className = \"col-md-8 m-auto\">\r\n                                <h1 className = \"display-5 text-center text-white\">Search People</h1>\r\n                                <p className = \"lead text-center text-white\">\r\n                                    enter info\r\n                                </p>\r\n                                <small className = \"d-block pb-3 text-white\">leave blank if irrelevant</small>\r\n\r\n                                <form  onSubmit = {this.onSubmit}>\r\n                                \r\n                                    <TextFieldGroup \r\n                                        placeholder = \"query name\"\r\n                                        name = \"queryName\"\r\n                                        value = {this.state.queryName}\r\n                                        onChange = {this.onChange}\r\n                                        error = {errors.name}\r\n                                        info = \"queryName\"\r\n                                        autoComplete = \"off\"\r\n                                        \r\n                                    />\r\n                                    <div className = \"mt-5\"></div>\r\n                                    <TextFieldGroup \r\n                                        placeholder = \"name\"\r\n                                        name = \"name\"\r\n                                        value = {this.state.name}\r\n                                        onChange = {this.onChange}\r\n                                        error = {errors.name}\r\n                                        info = \"name\"\r\n                                        autoComplete = \"off\"\r\n                                        \r\n                                    />\r\n                                    <SelectListGroup \r\n                                        placeholder = \"sex\"\r\n                                        name = \"sex\"\r\n                                        value = {this.state.sex}\r\n                                        onChange = {this.onChange}\r\n                                        options = {options}\r\n                                        error = {errors.sex}\r\n                                        info = \"sex\"\r\n                                    />\r\n                                    <TextFieldGroup \r\n                                        placeholder = \"age\"\r\n                                        name = \"age\"\r\n                                        value = {this.state.age}\r\n                                        onChange = {this.onChange}\r\n                                        error = {errors.age}\r\n                                        info = \"age\"\r\n                                    />\r\n                                    <TextFieldGroup \r\n                                        placeholder = \"city\"\r\n                                        name = \"city\"\r\n                                        value = {this.state.city}\r\n                                        onChange = {this.onChange}\r\n                                        error = {errors.city}\r\n                                        info = \"city\"\r\n                                    />\r\n                                    <TextFieldGroup \r\n                                        placeholder = \"state\"\r\n                                        name = \"state\"\r\n                                        value = {this.state.state}\r\n                                        onChange = {this.onChange}\r\n                                        error = {errors.state}\r\n                                        info = \"state\"\r\n                                    />\r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n\r\n                                \r\n                                    <input type = \"submit\" value= \"Submit\" className = \"btn btn-info btn-block mt-4\"/>\r\n                                </form>   \r\n                            \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <div className = \"interests\">\r\n                        <div className = \"row\">\r\n                            <div className = \"col\">\r\n                                <br />\r\n                                \r\n                                <h1 className = \"display-5 text-center text-white\">Interests</h1>\r\n                                \r\n                                <Interests sendDataToParent = {this.getDataFromChild} tree2 = {tree.tree} />\r\n                                \r\n                                <div className = \"container\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            )\r\n        }\r\n        \r\n       \r\n\r\n        return (\r\n            <div>\r\n                \r\n                {display}\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nSearchPeople.propTypes = {\r\n    profile: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired,\r\n    test: PropTypes.func.isRequired,\r\n    tree: PropTypes.object.isRequired,\r\n    interests: PropTypes.object,\r\n    auth: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile,\r\n    errors: state.errors,\r\n    tree: state.tree,\r\n    interests: state.interests,\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, {createProfile, addNode, test, getInterests, searchPeople})(withRouter(SearchPeople));"]},"metadata":{},"sourceType":"module"}